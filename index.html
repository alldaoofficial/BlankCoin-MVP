<!DOCTYPE html>
<html>
<head>
    <title>BLANK - Stay White</title>
    <style>
        body {
            margin: 0;
            background: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Arial', sans-serif;
            cursor: none;
            overflow: hidden; /* Verhindert Scrollen außerhalb */
        }
        
        #score {
            font-size: 15vw;
            color: #000;
            user-select: none;
            transition: all 0.3s;
            pointer-events: none; /* Ignoriert Mausereignisse auf der Anzeige */
        }

        #highscore {
            position: absolute;
            top: 20px;
            font-size: 2em;
            color: #666;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .reset-effect {
            animation: shake 0.5s;
            color: #ff4444 !important;
        }

        /* Unsichtbarer Rand-Überwachungsbereich */
        #border-guard {
            position: fixed;
            background: transparent;
            z-index: 9999;
        }
        #border-guard.top { top: 0; left: 0; right: 0; height: 1px; }
        #border-guard.bottom { bottom: 0; left: 0; right: 0; height: 1px; }
        #border-guard.left { top: 0; left: 0; width: 1px; bottom: 0; }
        #border-guard.right { top: 0; right: 0; width: 1px; bottom: 0; }
    </style>
</head>
<body>
    <!-- Unsichtbare Rand-Überwachung -->
    <div id="border-guard" class="top"></div>
    <div id="border-guard" class="bottom"></div>
    <div id="border-guard" class="left"></div>
    <div id="border-guard" class="right"></div>

    <div id="highscore">Highscore: 0</div>
    <div id="score">0</div>

    <audio id="sound">
        <source src="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YUcK8D8AAAAA" type="audio/wav">
    </audio>

    <script>
        let score = 0;
        let highscore = localStorage.getItem('blankHighscore') || 0;
        let timer;
        const sound = document.getElementById('sound');
        const mousePosition = { x: 0, y: 0 };

        document.getElementById('highscore').textContent = `Highscore: ${highscore}`;

        // Präzise Mauspositions-Überwachung
        document.addEventListener('mousemove', (e) => {
            mousePosition.x = e.clientX;
            mousePosition.y = e.clientY;
        });

        const isMouseOut = () => {
            return (
                mousePosition.x <= 0 ||
                mousePosition.y <= 0 ||
                mousePosition.x >= window.innerWidth - 1 ||
                mousePosition.y >= window.innerHeight - 1
            );
        };

        const updateScore = () => {
            if(isMouseOut()) {
                resetScore();
                return;
            }
            
            score++;
            document.getElementById('score').textContent = score;
            
            if(score > highscore) {
                highscore = score;
                localStorage.setItem('blankHighscore', highscore);
                document.getElementById('highscore').textContent = `Highscore: ${highscore}`;
            }
        };

        const resetScore = () => {
            sound.currentTime = 0;
            sound.play().catch(() => {});
            
            const scoreElement = document.getElementById('score');
            scoreElement.classList.add('reset-effect');
            setTimeout(() => scoreElement.classList.remove('reset-effect'), 500);

            score = 0;
            clearInterval(timer);
            timer = setInterval(updateScore, 1000);
        };

        // Aktivitäts-Listener
        ['mousemove', 'keydown', 'click', 'touchstart', 'wheel'].forEach(event => {
            window.addEventListener(event, resetScore);
        });

        // Kontinuierliche Grenzüberprüfung
        setInterval(() => {
            if(isMouseOut()) resetScore();
        }, 100);

        // Initialisierung
        timer = setInterval(updateScore, 1000);
        document.body.addEventListener('touchmove', e => e.preventDefault(), { passive: false });
    </script>
</body>
</html>
